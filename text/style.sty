\NeedsTeXFormat{LaTeX2e}


\ProvidesPackage{style}[2017/12/15 Custom LaTeX style]


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% PACKAGES %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%% Standalone
\RequirePackage{standalone}


%% Encoding
\RequirePackage[utf8]{inputenc}
\RequirePackage[T1]{fontenc}


%% Fonts and typography
\RequirePackage{lmodern}           % Latin Modern
\renewcommand{\sfdefault}{phv}     % Helvetica
\RequirePackage[scaled]{beramono}  % Bera Mono (Bitstream Vera Sans Mono)
\RequirePackage[final]{microtype}  % Improved typography
\RequirePackage{enumitem}          % Format lists
\setlist[itemize]{font = \upshape, before = \leavevmode}
\setlist[enumerate]{font = \upshape, before = \leavevmode}
\setlist[description]{font = \bfseries\sffamily, before = \leavevmode}
\RequirePackage{siunitx}           % Typesetting units
\RequirePackage{listings}          % Typesetting code
\lstset
{
    basicstyle       = \ttfamily\footnotesize,
    commentstyle     = \color{gray},
    stringstyle      = \itshape,
    showstringspaces = false,
    frame            = tb,
    breaklines = true,
    numbers=left,
    numbersep=5pt,
    language=R,
}
\RequirePackage[obeyspaces,
                spaces,
                hyphens]{url}      % Typesetting URLs
\urlstyle{sf}


%% Mathematics
\RequirePackage{amssymb}    % Extra symbols
\RequirePackage{amsthm}     % Theorem-like environments
\RequirePackage{thmtools}   % Theorem-like environments, extends amsthm
\RequirePackage{mathtools}  % Fonts and environments for mathematical formulae
\RequirePackage{mathrsfs}   % Script font with \mathscr{}
\RequirePackage{dsfont}     % Double stroke font with \mathds{}
\RequirePackage{cancel}     % Cancel terms with \cancel, \bcancel or \xcancel
\RequirePackage{stmaryrd}   % Brackets


%% Graphics
% xcolor is already imported elsewhere. Moved these options to 
% \RequirePackage[dvipsnames, svgnames, cmyk]{xcolor}     % Pre-defined colors
\RequirePackage{graphicx}         % Tool for importing images
\graphicspath{{figures/}}
%\RequirePackage{tikz}             % Drawing tool
\usetikzlibrary{calc}
\usetikzlibrary{intersections}
\usetikzlibrary{decorations.markings}


%% Organising tools
\RequirePackage[notref, notcite]{showkeys}               % Labels in margins
\renewcommand{\showkeyslabelformat}[1]
{
    \fbox
    {
        \parbox[t]{0.6\marginparwidth}
        {
            \centering\normalfont\footnotesize\ttfamily
            \path{#1}
        }
    }
}
\RequirePackage[obeyFinal,
                color       = LightGray,
                bordercolor = LightGray,
                textsize    = footnotesize,
                figwidth    = 0.99\linewidth]{todonotes} % Marginal notes


%% Miscellaneous
\RequirePackage{xspace}         % Clever space
\RequirePackage{textcomp}       % Extra symbols
\RequirePackage{multirow}       % Rows spanning multiple lines in tables
\RequirePackage{tablefootnote}  % Footnotes for tables


%% Bibliography
%\RequirePackage[backend    = biber,
%                sortcites  = true,
%                giveninits = true,
%                doi        = false,
%                isbn       = false,
%                url        = false,
%                citestyle  = authoryear]{biblatex}
%\DeclareNameAlias{sortname}{family-given}
%\DeclareNameAlias{default}{family-given}
%\addbibresource{bibliography.bib}

%% Bibliography
\RequirePackage[round]{natbib}

%% Cross references
\RequirePackage{varioref}
\RequirePackage{hyperref}
\RequirePackage[nameinlink, capitalize, noabbrev]{cleveref}



%% Algorithm environment
\RequirePackage{algorithmic}
\RequirePackage{algorithm}

%\RequirePackage{float}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% MEMOIR SETTINGS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%% Title page
%\pretitle{\begin{center}\huge\sffamily\bfseries}

%% Book
%\renewcommand*{\printbooktitle}[1]
%{
%    \hrule\vskip\onelineskip
%    \centering\booktitlefont #1
%    \vskip\onelineskip\hrule
%}
%\renewcommand*{\afterbookskip}{\par}
%\renewcommand*{\booktitlefont}{\Huge\bfseries\sffamily}
%\renewcommand*{\booknamefont}{\normalfont\huge\bfseries\MakeUppercase}


%% Part
%\renewcommand*{\printparttitle}[1]
%{
%    \hrule\vskip\onelineskip
%    \centering\parttitlefont #1
%    \vskip\onelineskip\hrule
%}
%\renewcommand*{\afterpartskip}{\par}
%\renewcommand*{\parttitlefont}{\Huge\bfseries\sffamily}
%\renewcommand*{\partnamefont}{\normalfont\huge\bfseries\MakeUppercase}


%% Chapter
%\chapterstyle{demo2}
%\renewcommand*{\printchaptername}
%{
%    \centering\chapnamefont\MakeUppercase{\@chapapp}
%}
%\renewcommand*{\printchapternum}{\chapnumfont\thechapter\space}
%\renewcommand*{\chaptitlefont}{\Huge\bfseries\sffamily\center}


%% Lower level sections
%\setsecheadstyle{\Large\bfseries\sffamily\raggedright}
%\setsubsecheadstyle{\large\bfseries\sffamily\raggedright}
%\setsubsubsecheadstyle{\normalsize\bfseries\sffamily\raggedright}
%\setparaheadstyle{\normalsize\bfseries\sffamily\raggedright}
%\setsubparaheadstyle{\normalsize\bfseries\sffamily\raggedright}


%% Abstract
%\renewcommand{\abstractnamefont}{\sffamily\bfseries}
%\renewcommand{\abstracttextfont}{\normalfont\small\noindent\ignorespaces}


%% Table of contents
\setrmarg{3em}
\setpnumwidth{2em}
\addtolength{\cftbooknumwidth}{0.5em}
\addtolength{\cftpartnumwidth}{0.5em}
\addtolength{\cftchapternumwidth}{0.5em}
\addtolength{\cftsectionindent}{0.5em}
\addtolength{\cftsubsectionindent}{0.5em}
\addtolength{\cftsubsubsectionindent}{0.5em}
\addtolength{\cftparagraphindent}{0.5em}
\addtolength{\cftsubparagraphindent}{0.5em}


%% Header and footer
%\pagestyle{ruled}
%\makeevenhead{ruled}{\sffamily\leftmark}{}{}
%\makeoddhead {ruled}{}{}{\sffamily\rightmark}
%\makeevenfoot{ruled}{\sffamily\thepage}{}{}
%\makeoddfoot{ruled}{}{}{\sffamily\thepage}

%\makepagestyle{chapter}
%\makeevenfoot{chapter}{\sffamily\thepage}{}{}
%\makeoddfoot{chapter}{}{}{\sffamily\thepage}


%% Trim marks
\trimLmarks


%%%%%%%%%%%%%%%%%%%%%%%%%%%%% USER-DEFINED MACROS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%% Environments
\declaretheoremstyle[headfont   = \bfseries\sffamily,
                     notefont   = \normalfont,
                     bodyfont   = \itshape,
                     spaceabove = 6pt,
                     spacebelow = 6pt]{plain}
\declaretheoremstyle[headfont   = \bfseries\sffamily,
                     notefont   = \normalfont,
                     spaceabove = 6pt,
                     spacebelow = 6pt]{definition}
\declaretheorem[style = plain, numberwithin = section]{theorem}
\declaretheorem[style = plain,      sibling = theorem]{corollary}
\declaretheorem[style = plain,      sibling = theorem]{lemma}
\declaretheorem[style = plain,      sibling = theorem]{proposition}
\declaretheorem[style = plain,      sibling = theorem]{observation}
\declaretheorem[style = plain,      sibling = theorem]{conjecture}
\declaretheorem[style = definition, sibling = theorem]{definition}
\declaretheorem[style = definition, sibling = theorem]{example}
\declaretheorem[style = definition, sibling = theorem]{notation}
\declaretheorem[style = remark,     sibling = theorem]{remark}
\crefname{observation}{Observation}{Observations}
\Crefname{observation}{Observation}{Observations}
\crefname{conjecture}{Conjecture}{Conjectures}
\Crefname{conjecture}{Conjecture}{Conjectures}
\crefname{notation}{Notation}{Notations}
\Crefname{notation}{Notation}{Notations}

\setsecnumdepth{subsubsection} % Number subsections
%\settocdepth{subsection}    % Show subsections in table of contents

\endinput
